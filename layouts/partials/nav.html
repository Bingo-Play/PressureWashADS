<!-- Vars -->
{{ $services := slice
  (dict "text" "concrete washing & sealing" "link" "/concrete-washing-sealing" "image" "images/nav/services/concrete-washing-sealing.jpg")
  (dict "text" "asphalt repair & sealing" "link" "/asphalt-repair-sealing" "image" "images/nav/services/asphalt-repair-sealing.jpg")
  (dict "text" "interlock install & restoration" "link" "/interlock-install-restoration" "image" "images/nav/services/interlock-install.jpg")
}}

<!-- Main container -->
<style>
[x-cloak] {
  display: none !important;
}
</style>
<div
  x-cloak
  x-data="{ isOpen: false }"
  class="w-full p-4 fixed top-0 z-50">
    <!-- Green banner with drop shadow -->
    <div class="relative bg-[#53AB2D] rounded-md shadow-lg border-2 border-[#6BD43D] h-24 flex justify-between items-center p-4">
        <!-- Logo section on left -->
        <div class="flex items-center">
            <div class="flex">
                <!-- Logo shapes (simplified) -->
                {{ partial "logos/logo.html" . }}
            </div>
        </div>
        
        <!-- Navigation section on right -->
        <div class="uppercase flex gap-4">
            <!-- Navigation links -->
            <a href="#" @click="isOpen = !isOpen" class="text-white font-bold">Services</a>
            <a href="/about" class="text-white font-bold">Our Work</a>
            <a href="/contact" class="text-white font-bold">Resources</a>
            <a href="/contact" class="text-white font-bold">Contact</a>
        </div>
        <div
           x-show="isOpen"
           @click.away="isOpen = false"
           @keydown.escape.window="isOpen = false"
           x-transition:enter="transition ease-out duration-200" 
           x-transition:enter-start="opacity-0 transform -translate-y-4" 
           x-transition:enter-end="opacity-100 transform translate-y-0" 
           x-transition:leave="transition ease-in duration-150" 
           x-transition:leave-start="opacity-100 transform translate-y-0" 
           x-transition:leave-end="opacity-0 transform -translate-y-4" 
           class="px-6 py-4 border-2 border-[#6AD23D] absolute bottom-[-19rem] left-0 right-0 bg-white shadow-lg w-full h-[19rem]"
          >
            <h2 class="text-black font-thin text-2xl">OUR SERVICES</h2> 
            <div class="w-full h-[2px] bg-[#53AB2D] overflow-auto flex gap-4"></div>
            <div class="flex gap-4 items-center py-4 overflow-auto h-full">
              {{ range $services }}
              <div class="group relative min-w-[300px] flex flex-col justify-start items-center gap-4 h-full cursor-pointer overflow-hidden">
                  <div class="transition-discrete w-[300px] h-[200px] rounded-md shadow-lg overflow-hidden group-hover:border-4 group-hover:border-[#53AB2D]">
                    {{ with resources.Get .image }}
                      <img
                        class="bg-cover duration-300 group-hover:scale-140 w-full h-full"
                        src="{{ .RelPermalink }}"
                        width="200px"
                        height="250px"
                      />
                    {{ end }}
                  </div>
                  <div
                    class="group-hover:opacity-100 transition group-hover:bg-[#53AB2D] text-center font-bold w-56 absolute bottom-5 bg-[#1263B0] opacity-70 uppercase p-4 rounded-md text-white">
                    <h3>{{ .text }}</h3>
                  </div>
                </div>
              {{ end }}
            </div>
          </div>
    </div>
</div>

